<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>12</title>
    <link rel="stylesheet" href="../css.css">
</head>
<body>
    <h1>Preço mudou</h1>
    <button onclick="Click()">Verificar</button>
    <span>
        Clique no botão acima para analisar a mudança de preço.
    </span>

    <script defer>
        function Click(){
            const AnPreço = parseFloat(window.prompt(`Qual era o preço anterior do produto?`));

            const PreçoAt = parseFloat(window.prompt(`Qual é o preço atual do produto?`));
            
            const Texto = document.querySelector("span");

            Texto.innerHTML = ('')

            let OPEtext = String("");
            let OPtext = String("");
            
            // variação
            if ((AnPreço > PreçoAt)) {
                // ficou Barato
                const Caiu = (AnPreço - PreçoAt).toFixed(2);
                const Baixo = (((AnPreço / PreçoAt)*100)-100).toFixed(1);

                OPEtext = ("Barato");
                OPtext = ("Caiu");

                console.log(OPEtext);
                Texto.innerHTML = (`<h2>Analisando os Valores Informados</h2>

                <p>O Produto custava R$ ${AnPreço.toFixed(2)} e agora custa R$ ${PreçoAt.toFixed(2)}.</p>
                
                <p>Hoje o Produto está mais ${OPEtext}.</p>

                <p>O Preço ${OPtext} R$ ${Caiu} em relação ao preço Anterior.</p>

                <p>Uma variação de ${Baixo}% pra Baixo.</p>
                `)
            }
            else if ((AnPreço < PreçoAt)) {
                // ficou Caro
                const subiu = (PreçoAt - AnPreço).toFixed(2);
                const Cima = (((PreçoAt / AnPreço)*100)-100).toFixed(1);

                let OPEtext = String("Caro");
                let OPtext = String("Subiu");

                console.log(OPEtext);
                Texto.innerHTML = (`<h2>Analisando os Valores Informados</h2>

                <p>O Produto custava R$ ${AnPreço.toFixed(2)} e agora custa R$ ${PreçoAt.toFixed(2)}.</p>
                
                <p>Hoje o Produto está mais ${OPEtext}.</p>

                <p>O Preço ${OPtext} R$ ${subiu} em relação ao preço Anterior.</p>

                <p>Uma variação de ${Cima}% pra cima.</p>
                `)
            }
            else {
               Texto.innerHTML = (`<h2>Analisando os Valores Informados</h2>

                <p>O Produto custava R$ ${AnPreço} e agora custa R$ ${PreçoAt}.</p>
                
                <p>Hoje o Produto está Igual.</p>

                <p>O Preço Está Igual em relação ao preço Anterior.</p>

                <p>Uma variação de 0%.</p>
                `) 
            }
            //lixo
        }
    </script>
</body>
</html>